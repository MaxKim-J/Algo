# 그리디 알고리즘

2020.02.28

## 정의

눈앞의 이익만 우선 추구하는 알고리즘의 총칭  
대부분의 경우 뛰어난 결과를 도출하지 못하지만 드물게 최적해를 보장하는 경우도 있음  
그리디는 최적화 문제를 대상으로 하는데, 최적해를 찾을 수 있으면 그것을 목표로 삼고  
찾기 어려운 경우에는 주어진 시간 내에 그런대로 괜찮은 해를 갖는 것을 목표로 삼음  
온전한 해가 만들어질 때까지 눈앞에 가장 좋아 보이는 선택을 반복함

## 예시

1. 프림 알고리즘 : 최소 신장 트리를 찾는 그리디 알고리즘(싹다 봐버리기)
   - 집합 S에 속하는 정점 집합 S에 속하지 않는 정점을 연결하는 간선들 중 가장 짧은 것을 우선선 선택=> 근시안적
2. 보통의 그리디 알고리즘

```shell
Greedy(c) {
    S 집합의 초기화;
    while(C집합이 공집합이 아닐때 and S는 아직 온전한 해가 아님) {
        # 원소를 선택하는 기준이 눈앞의 이익을 우선할 경우
        C 집합에서 원소 하나==x 선택;
            집합 C에서 원소 x를 제거
        if (S에 x를 더하던지 뭐 연산을 한다) {
            S안에 x를 연산하든지 적절한 자료구조에 넣음;
        }
    if (S가 온전한 해) {
        return S;
    } else {
        return "해 없음";
    }
    }
}
```

## 최적해가 보장되지 않는 예

대부분 최적해를 보장하지 못한다

### 이진 트리의 최적합 경로 찾기

모든 노드를 다 보기 전에는 최적해를 보장할 수 없다, 루트로부터 DFS와 같은  
백트래킹 탐색을 할 수 밖에 없어지고, 수행 시간의 상한은 트리의 총 노드에 비례  
그리디로 이 문제에 대한 알고리즘을 짠다고 하면, 방문한 노드 중에서 가장 큰 값들로 내려가는 경로를 택하게 하면 된다 그러나 이런 경우에는 최적 경로를 찾을 수 없다

### 보따리 문제

부피가 M인 보따리와 이 보따리에 넣으려 하는 n개의 물건이 있다. 물건 i의 부피는 Wi인데  
이것을 보따리에 넣을 경우 Pi의 가치가 있음. 물건들의 전체 부피합이 M이 넘지 않도록 하면서 가치가 최대가 되도록 보따리에 물건을 넣어야 함.  
그리디로 하면 알고리즘을 보따리 용량을 초과하지 않은 한 단위 부피당 가치가 가장 큰 물건 순서로 각 물건을 보따리에 추가하게 된다 => 이 방식의 그리디 알고리즘은 최적해를 보장하지 못함

### 동전 바꾸기

이 문제는 조건에 따라 그리디로 풀 수 있는지 없는지가 갈린다

1. 동전의 액면이 커지면서 바로 아래 액면의 배수가 되는 경우
   - 그리디로 푸는게 가능해진다 : 가장 큰 액수의 동전을 쓸 수 있을 때 까지 사용한 후, 그 다음 동전, 다음 동전으로 넘어가면서 몇개의 동전으로 만들어졌는지 센다.
   - 이거 응용되는 문제가 많음
2. 동전의 액면이 커지면서 앞 액면의 배수가 안되는 경우
   - 그리디로 풀 수 없다 : 그리디로 푼다면 500원 2개, 100원 3개를 선택하게 되겠지만
   - 400원 동전이 있으니깐 최적해는 500원 1개와 400원 2개로 3개의 동전이면 됨 - 동적 프로그래밍으로 최적해를 구할 수 있겠다

## 그리디로 최적해가 보장되는 예

### 최소 신장 트리

어떤 시점에서든지 그 시점에서 집합 s에 가장 싼 비용으로 연결되는 정점을 근시안적으로 택한다는 지점에서 그리디하며, 최적해를 구해낸다.

### 회의실 배정 문제

n개의 회의 신청에 대해 회의실 사용 스케쥴을 정하는 알고리즘, 회의실은 1개임  
겹치는 회의가 없게 하면서 가장 많은 수의 회의르르 소화할수 있도록 하는게 목표

1. 시작 시간과 종료 시간을 가지고있는 이터러블 자료구조를 배열에 종료시간이 빠른 순서로 정렬
2. 맨 앞에 있는 값 무조건 들이고, 그 다음 배정된 회의들은 결정된 회의와 겹치는 시간이 있으면 제외한다
3. 즉 차례가 왔을 때 자신의 시작 시간이 이미 배정된 회의 중 맨 마지막에 끝나는 것보다 뒤면 포함시키는 일을 반복하는 것(그리디)

그외 - 다익스트라, 허프만 등등

## 매트로이드

### 정의

독립성이라는 성질을 만족하는 수학적 공간. 어떤 문제의 공간이 메트로이드를 이루면 이 문제를 위한 최적해를 보장하는 그리디 알고리즘이 존재.  
매트로이드는 연산자가 없으며, 원소들의 부분 집합들끼리 만족하는 성질로 정의됨. 매트로이드는 원래 행렬에서 행들의 독립성을 일반화하면서 출현한 탓에 매트로이드라는 이름을 갖게 됨.

### 매트로이드 두가지 조건

1. 어떤 유한 집합 s의 부분집합인 a가 b라는 부분집합을 포함하고 있을 때, b도 s의 부분집합이다(상속성)
2. 크기가 다른 두 집합 a,b가 s의 부분집합이면, b의 원소이면서 a의 원소가 아닌 것 중에 a에 더해서 s의 부분집합이 되게 하는 원소가 존재한다(증강성)

이런 성질을 가진 부분집합들을 모아놓은 집합이 메트로이드다.

### 뭔지 모르게따

1. 간선들의 집합 E가 메트로이드의 원집합 s
2. 트리 => 트리의 집합(숲) => 가능한 숲을 모두 모아놓은 집합(F)
3. 집합 F는 메트로이드 성질을 만족한다
   1. 상속성 : 어떤 숲의 부분집합도 당연히 숲이니까
   2. 증강성 :
